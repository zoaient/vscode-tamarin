## Organization of the plugin's git source repository
###  .json files
At the root of the project there are several .json files:

- ```package.json```: This file contains basic informations about the extension (name, version, ...), defines the type of file extension the plugin can be used with, allows you to define custom commands and associate keyboard shortcuts ("keybindings") or add actions for menus or right-clicks. Finally, it can be used to indicate executable scripts and specify dependencies. The package-lock.json file is automatically generated by executing the ``npm build`` command.
- ```language-configuration.json```: This allows you to define snippets to make coding more enjoyable.
- ``/syntaxes/tamarin.tmLanguage.json``: This file defines the syntax highlighting of code with the help of TextMate.
- ``` .github/workflows``` : this file setups the pipeline. 

### Miscellaneous files
-  ```jest.config.js``` : This file contains basic informations to run the tests.
-  ```.eslint.js``` : This file is a setup file for the linter, currently, the linter is pretty harsh, some rules may be turned off if necessary.
- ```.vscodeignore```: This file contains all folders and files that will be ignored to build the extension package.
### Server folder

The server folder is separated into various parts required for plugin operation.
- ```grammar```: This folder contains the files needed to use a Tree-sitter grammar inside the plugin. Its use is detailed in the ``Readme_Tree_Sitter.md`` file.
- ```src/features```: Contains all the functionalities offered by the plugin .
  - ```syntax_error.ts``` is the only file that will parse files that are opened in the vscode editor. Files are re-parsed as soon as they are modified. It also detects semantic errors and initiates creation of a symbol table for each file.
  - ``checks`` This folder contains all semantic checks based on the symbol table.
  - ```tests```: Contains files used to test the tree structure.
  - ``symbol_table``: contains a file used to create a symbol table for each open Tamarin file in the editor. The symbol table contains ```TamarinSymbol```,  each symbol is associated with:
	- A tree node corresponding to the symbol itself, a type, another node corresponding to the context in which this symbol appears (rule, lemma, formula in a lemma), a name and associated range in the tamarin file, an arity if it's a fact or a function, a type if it's a variable (public, fresh ...), and a ``quantified_formula`` node for variables in lemmas. The various useful node types are listed in the ``DeclarationType`` enumeration.
- ```src/server.ts``` : This file manages communication with the lsp client
- ```src/AnalysisManager.ts``` : This file organises analysis , calling functions etc, it also implements go_to and rename


### Client folder
- ``src/extension.ts``: This is the file used to launch the extension. It contains the ``activate`` function, which contains all the tasks performed when the plugin is activated.
-  ```src/run_shortcut.ts```: This file provides a shortcut to launch tamarin in normal or auto sources mode in the bottom right-hand corner of the editor.
- ```src/languageServer.ts``` : This file setup the lsp.

## spthy and splib files.
- This plugin supports two file types:
    - spthy is the default format for Tamarin files.
    - splib files are library files that do not contain the theory name, "begin" and "end". They can be imported using ``` include "file.splib"```.
- Non spthy or splib files that are labeled as Tamarin files are considered as spthy files , unless they are imported and considered instead as splib files.